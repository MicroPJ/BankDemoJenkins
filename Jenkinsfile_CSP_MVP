node {

    stage('Clone repository') {
        /* Let's make sure we have the repository cloned to our workspace */
        cleanWs()
	      git branch: "main",
        url: 'https://github.com/MicroFocus/BankDemo.git'
    }

    stage('Build') {

    }

    stage('Release') {

    }
    
    stage('Deploy') {

    }
    
    stage('Test') {  
	    GroovyDsl.make {
		    request {
			method 'GET'
			urlPath('https://api.ipify.org') {
			    queryParameters {
				parameter 'format': "json"
			    }
			}
			headers {
			    header 'Content-Type': 'application/json'
			}
			body ''
		    }
		    response {
			status 200
		    }
	    }
    }
}
